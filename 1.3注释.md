# 注释

关键思想：注释的目的是尽量帮助读者了解得和作者一样多

## 什么不需要注释

- 不要为了那些从代码本身就能**快速**推断的事实写注释
- 不要为了注释而注释，没有提供比代码本身更多信息的注释要么删除，要么改进
- 不要给不好的名字加注释---**应该把名字改好**，**好代码>坏代码+好注释**

## 什么需要注释

- 记录你写代码时重要的想法
- 记录对代码有价值的见解，例如：解释代码没法修复的缺陷、代码不整洁的原因
- 为代码中的瑕疵写注释，比如有如下几种标记：

| 标记     | 通畅的意义                |
| ------ | -------------------- |
| TODO:  | 我还没有处理的事情            |
| FIXME: | 已知的无法运行的代码           |
| HACK:  | 对一个问题不得不采用的比较粗糙的解决方案 |
| XXX:   | 危险！这里有重要的问题          |

- 给常量加注释，记下决定这个常量值时的想法

- 站在读者的角度

  - 考虑读者阅读这段代码时可能出现提问，并将提问的答案写在注释中
  - 公布可能的陷阱
  - 编写文件级别的注释，让读者熟悉代码库
  - 在一个类或者函数内部编写总结性的注释

- 克服“作者心理阻滞”，

  - 不管心里想什么，先把它写下来
  - 读一下这段注释，看看有没有什么可以改进的地方
  - 不断改进

  当你经常写注释，你会发现步骤1所产生的注释会越来越好，就越不需要后面两步了

## 写出言简意赅的注释

- 让注释保持紧凑
- 避免使用不明确的代词
- 润色粗糙的句子
- 精确的描述函数的行为
- 对于输入输出，精心挑选一个例子就够了
- 声明代码的意图
- “具名”函数的参数，就是用注释标明函数参数的含义，用来解释难以理解的函数参数
- 采用信息含量高的词
